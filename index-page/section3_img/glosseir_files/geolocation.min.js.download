(()=>{class e extends HTMLElement{constructor(){super(),this._init()}_init(){this._getCookie("locale_bar_dismissed")||this._getCookie("locale_bar_accepted")||this._initListeners()}_initListeners(){(document.documentElement||document.body).addEventListener("DOMNodeInserted",e=>{e.target.classList?.contains("recommendation-modal__backdrop")&&(this.backdrop=e.target,this.modal=e.target.parentNode.querySelector(".recommendation-modal__container"),this._render())},!1)}_render(){this.backdrop.classList.add("active"),this.modal.classList.add("active");let i="";const e=this.modal.querySelector(".recommendation-modal__content");if(e){e.innerHTML+=this.innerHTML;const t=this.modal.querySelector('[name="country_code"]'),a=this.modal.querySelector(".recommendation-modal__benefits ul");if(a.classList.add("hidden"),t){i=t.value.toLowerCase();let o=!1;if(this.modal.querySelectorAll("option[data-locale]").forEach(e=>{var[,t]=e.dataset.locale.split("-");t&&(i!==t||o||(this.modal.querySelector('select[name="country"]').value=e.value,o=!0))}),!o&&a){const i=this.modal.querySelector("[data-message]");i&&(a.innerHTML=`<li>${i.innerHTML}</li>`,a.classList.remove("hidden"))}}this.modal.querySelector(".geolocation-modal .button").addEventListener("click",()=>{this._closeModal();var e=this.modal.querySelector('[name="country"]');e&&(window.location=e.value)}),this.modal.querySelector(".recommendation-modal__close-button").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this._closeModal()})}}_getCookie(e){const t=("; "+document.cookie).split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}_closeModal(){const e=new Date;e.setTime(e.getTime()+2592e6),document.cookie=`locale_bar_dismissed=1; expires=${e.toUTCString()}; path=/`,this.backdrop.classList.remove("active"),this.modal.classList.remove("active")}}customElements.get("geolocation-modal")||customElements.define("geolocation-modal",e)})();